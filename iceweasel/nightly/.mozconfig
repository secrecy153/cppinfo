#Specify the cross compile

export CROSS_COMPILE=1

ac_add_options --with-app-name=Iceweasel
ac_add_options --enable-application=browser
ac_add_options --enable-official-branding
ac_add_options --enable-default-toolkit=cairo-windows
ac_add_options --enable-extensions=default
mk_add_options MOZ_OBJDIR=@TOPSRCDIR@/../obju-mingw
ac_add_options --enable-optimize=" -O2"
ac_add_options --target=i686-w64-mingw32
ac_add_options --disable-debug --enable-debug-symbols=no
ac_add_options --disable-updater --disable-update-channel --disable-update-packaging
ac_add_options --disable-tests --disable-mochitest --disable-embedding-tests
ac_add_options --disable-crashreporter --disable-telemetry-reporting
ac_add_options --disable-maintenance-service --disable-parental-controls
ac_add_options --disable-webrtc --disable-webspeech --disable-webgl

ac_add_options --disable-accessibility --disable-webapp-runtime --disable-necko-wifi
ac_add_options --disable-services-healthreport --disable-services-notifications
ac_add_options --disable-safe-browsing --disable-url-classifier

ac_add_options --disable-jsd  --disable-gamepad
ac_add_options --disable-installer --enable-strip
ac_add_options --with-system-zlib --with-system-icu

#directshow crashed when compiled with MinGW
ac_add_options --disable-directshow

#ac_add_options --disable-social-api --disable-skia --disable-servces-sync

# Use parallel build. Adjust number of processes for your setup.
mk_add_options MOZ_MAKE_FLAGS=-j4

